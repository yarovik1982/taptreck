<template>
  <div class="container" v-if="data.place?.length">
    <h3 class="text-center">Найдено {{ data.place.length }}</h3>
    <div
      class="card mb-3"
      style="padding: 40px 20px; border: 1px solid rgb(255, 193, 7)"
      v-for="(item) in data.place"
      :key="item.placeId"
    >
      <div class="row g-0 d-flex ">
        <div class="col-md-4 px-2">
          <img
            :src="item.image"
            class="image"
            alt="IMAGE"
            style="border-radius: 16px"
          />
        </div>
        <div class="col-md-8 d-flex">
          <div
            class="card-body py-0 d-flex flex-column justify-content-between"
          >
            <div>
              <div
                class="d-flex justify-content-between align-items-center"
                style="margin-bottom: 21px"
              >
                <h3 class="card-title">{{ item.name }}</h3>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 31 30"
                  fill="none"
                  class="icon-heart"
                  :id="item.placeId"
                  
                >
                  <path
                    d="M10.9219 19.9903C12.2879 19.9903 13.5738 19.7289 14.7797 19.2063C15.9856 18.6837 17.0493 17.9618 17.9709 17.0407C18.8925 16.1196 19.6147 15.0564 20.1375 13.8511C20.6604 12.6458 20.9219 11.3605 20.9219 9.99512C20.9219 8.62978 20.6604 7.34445 20.1375 6.13916C19.6147 4.93387 18.8925 3.87066 17.9709 2.94954C17.0493 2.02842 15.984 1.30655 14.7748 0.783931C13.5656 0.26131 12.2781 0 10.9121 0C9.54605 0 8.2601 0.26131 7.05422 0.783931C5.84834 1.30655 4.78625 2.02842 3.86795 2.94954C2.94965 3.87066 2.22906 4.93387 1.70619 6.13916C1.18331 7.34445 0.921875 8.62978 0.921875 9.99512C0.921875 11.3605 1.18331 12.6458 1.70619 13.8511C2.22906 15.0564 2.95128 16.1196 3.87285 17.0407C4.79442 17.9618 5.85814 18.6837 7.06402 19.2063C8.2699 19.7289 9.55585 19.9903 10.9219 19.9903Z"
                  />
                  <path
                    d="M8.49052 5.52637C9.03301 5.52637 9.51013 5.66682 9.92189 5.94773C10.3337 6.22864 10.667 6.60101 10.9219 7.06484C11.1702 6.60101 11.5019 6.22864 11.9169 5.94773C12.332 5.66682 12.8075 5.52637 13.3434 5.52637C13.9186 5.52637 14.4284 5.65866 14.8729 5.92323C15.3173 6.18781 15.6653 6.55201 15.917 7.01584C16.1686 7.47967 16.2944 8.01208 16.2944 8.61309C16.2944 9.14225 16.1931 9.65835 15.9906 10.1614C15.7879 10.6644 15.515 11.1511 15.1719 11.6214C14.8287 12.0918 14.4447 12.5344 14.02 12.9492C13.5951 13.3641 13.1588 13.7462 12.7111 14.0958C12.2634 14.4452 11.8337 14.7539 11.4219 15.0217C11.3435 15.074 11.2601 15.1263 11.1719 15.1786C11.0837 15.2308 11.0068 15.2569 10.9415 15.2569C10.8761 15.2569 10.7944 15.2308 10.6964 15.1786C10.5984 15.1263 10.5036 15.074 10.4121 15.0217C10.0003 14.7539 9.56896 14.4468 9.11797 14.1006C8.66699 13.7544 8.22909 13.3739 7.80425 12.959C7.37942 12.5442 6.99543 12.1016 6.6523 11.6312C6.30916 11.1609 6.03791 10.6726 5.83857 10.1662C5.63922 9.65996 5.53955 9.14225 5.53955 8.61309C5.53955 8.01208 5.66537 7.47967 5.91701 7.01584C6.16863 6.55201 6.51667 6.18781 6.96111 5.92323C7.40556 5.65866 7.91537 5.52637 8.49052 5.52637Z"
                  />
                  <path
                    id="Vector"
                    d="M9.99999 19.9903C11.366 19.9903 12.652 19.7289 13.8578 19.2063C15.0637 18.6837 16.1274 17.9618 17.049 17.0407C17.9706 16.1196 18.6928 15.0564 19.2156 13.8511C19.7385 12.6458 20 11.3605 20 9.99512C20 8.62978 19.7385 7.34445 19.2156 6.13916C18.6928 4.93387 17.9706 3.87066 17.049 2.94954C16.1274 2.02842 15.0621 1.30655 13.8529 0.783931C12.6438 0.26131 11.3562 0 9.99018 0C8.62417 0 7.33823 0.26131 6.13235 0.783931C4.92646 1.30655 3.86437 2.02842 2.94607 2.94954C2.02778 3.87066 1.30719 4.93387 0.784313 6.13916C0.261438 7.34445 0 8.62978 0 9.99512C0 11.3605 0.261438 12.6458 0.784313 13.8511C1.30719 15.0564 2.02941 16.1196 2.95097 17.0407C3.87255 17.9618 4.93627 18.6837 6.14214 19.2063C7.34803 19.7289 8.63398 19.9903 9.99999 19.9903ZM9.99999 18.3244C8.84313 18.3244 7.76143 18.1088 6.7549 17.6777C5.74836 17.2465 4.86437 16.6504 4.10293 15.8893C3.3415 15.1283 2.74673 14.2447 2.31862 13.2387C1.89052 12.2326 1.67647 11.1515 1.67647 9.99512C1.67647 8.83882 1.89052 7.75765 2.31862 6.75161C2.74673 5.74556 3.33987 4.86037 4.09803 4.09604C4.8562 3.3317 5.73855 2.73559 6.74509 2.30769C7.75163 1.8798 8.83332 1.66586 9.99018 1.66586C11.1471 1.66586 12.2288 1.8798 13.2353 2.30769C14.2418 2.73559 15.1274 3.3317 15.8922 4.09604C16.6569 4.86037 17.2549 5.74556 17.6863 6.75161C18.1176 7.75765 18.3333 8.83882 18.3333 9.99512C18.3333 11.1515 18.1193 12.2326 17.6912 13.2387C17.263 14.2447 16.6683 15.1283 15.9068 15.8893C15.1454 16.6504 14.2598 17.2465 13.2499 17.6777C12.2402 18.1088 11.1569 18.3244 9.99999 18.3244ZM7.64705 5.6737C7.0915 5.6737 6.59803 5.80273 6.16666 6.06077C5.73529 6.31881 5.39706 6.67158 5.15196 7.11908C4.90686 7.56657 4.7843 8.08102 4.7843 8.66244C4.7843 9.17853 4.88234 9.68318 5.07842 10.1764C5.2745 10.6696 5.53757 11.1432 5.86764 11.5973C6.19771 12.0513 6.56862 12.4808 6.98038 12.8859C7.39215 13.2909 7.81699 13.6617 8.2549 13.9981C8.6928 14.3345 9.1111 14.6301 9.5098 14.8849C9.59476 14.9306 9.68463 14.9796 9.7794 15.0319C9.87417 15.0842 9.95423 15.1103 10.0196 15.1103C10.0784 15.1103 10.152 15.0858 10.2402 15.0368C10.3284 14.9878 10.4085 14.9372 10.4804 14.8849C10.8791 14.6236 11.2974 14.3231 11.7353 13.9833C12.1732 13.6436 12.5981 13.2729 13.0098 12.8711C13.4215 12.4694 13.7941 12.0415 14.1275 11.5875C14.4608 11.1334 14.7255 10.6614 14.9216 10.1715C15.1176 9.68154 15.2156 9.17853 15.2156 8.66244C15.2156 8.08102 15.0915 7.56657 14.8432 7.11908C14.5948 6.67158 14.2565 6.31881 13.8284 6.06077C13.4003 5.80273 12.9085 5.6737 12.3529 5.6737C11.8366 5.6737 11.3758 5.81089 10.9705 6.08526C10.5654 6.35964 10.2418 6.71894 9.99999 7.16317C9.75816 6.71894 9.43626 6.35964 9.0343 6.08526C8.63234 5.81089 8.16993 5.6737 7.64705 5.6737Z"
                  />
                </svg>
              </div>
              <div></div>
            </div>
            <p class="card-descr">
              {{ item.description }}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script setup>
import { getAll } from "@/HelperFunctions/useSearch";
import { toggleClass } from "@/HelperFunctions/addClass";
import { ref , onMounted, computed} from "vue";
import {useStore} from 'vuex'

const store = useStore()
const currId = ref(null);
// const data = getAll();
const data = computed(() => store.getters.GET_SEARH_RESULT)

onMounted(() => {
   toggleClass('.icon-heart')
})

// const selectedFavorite = (item, index) => {
  // const fullData = JSON.parse(localStorage.getItem('searchData'))
  // console.log(fullData.place);
  // item.setAvailabilityOfSpaceForTheUser = !item.setAvailabilityOfSpaceForTheUser
// };
</script>
<style scoped>
.image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.icon-heart {
   cursor: pointer;
  width: 40px;
  height: 40px;
  transition: all 0.3s linear;
}
.icon-heart:hover {
  transform: scale(1.2);
}
.icon-heart path:nth-child(1) {
   fill: #ff3b30;
  opacity: 1;
}
.icon-heart.active path:nth-child(1){
   opacity: 0;
}
.icon-heart path:nth-child(2) {
  fill: white;
  opacity: 1;
}
.icon-heart.active path:nth-child(2){
   opacity: 0;
}
.icon-heart path:nth-child(3) {
   fill: #ff3b30;
   opacity: 0;
}
.icon-heart.active path:nth-child(3){
   opacity: 1;
}
.card-descr {
  color: rgb(184, 184, 184);
  max-height: 200px;
  padding: 8px;
  overflow-y: auto;
  transition: all 0.3s linear;
  cursor: url("~@/assets/images/cursor-scroll.png"), auto;
}
.card:hover .card-descr {
  box-shadow: #faca10 0px 0px 8px 2px;
}
.card-descr::-webkit-scrollbar {
  width: 0;
}
</style>
